(function(n,q){"function"===typeof define&&define.amd?define(q):n.H5F=q()})(this,function(){var n=document.createElement("input"),q=/^[a-zA-Z0-9.!#$%&'*+-\/=?\^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,I=/[a-z][\-\.+a-z]*:\/\//i,J=/^(input|select|textarea)$/i,z,A,B,l,f,s,t,g,C,u,D,v,E,w,r,x,e,F,G,y,p,m,h,H;s=function(a){var b=a.elements,c=b.length,d=!!a.attributes.novalidate;e(a,"invalid",g,!0);e(a,"blur",g,!0);e(a,"input",g,!0);e(a,"keyup",g,!0);e(a,"focus",g,!0);e(a,"change",g,!0);e(a,"click",
C,!0);e(a,"submit",function(b){z=!0;A||d||a.checkValidity()||G(b)},!1);if(!v())for(a.checkValidity=function(){return u(a)};c--;)"fieldset"!==b[c].nodeName.toLowerCase()&&t(b[c])};t=function(a){var b=x(a),c=a.getAttribute("type"),d=a.getAttribute("pattern"),k=a.getAttribute("placeholder"),f=/^(input|keyup)$/i,c=/^(email|url)$/i.test(c)?c:d?d:!1,c=E(a,c),d=r(a,"step"),g=r(a,"min"),e=r(a,"max"),h=!(""===a.validationMessage||void 0===a.validationMessage);a.checkValidity=function(){return u.call(this,
a)};a.setCustomValidity=function(b){D.call(a,b)};a.validity={valueMissing:b,patternMismatch:c,rangeUnderflow:g,rangeOverflow:e,stepMismatch:d,customError:h,valid:!b&&!c&&!d&&!g&&!e&&!h};k&&!f.test(l)&&w(a)};g=function(a){var b=y(a)||a,c=/^(input|keyup|focusin|focus|change)$/i,d=/^(submit|image|button|reset)$/i,k=/^(checkbox|radio)$/i;!J.test(b.nodeName)||d.test(b.type)||d.test(b.nodeName)||(l=a.type,v()||t(b),b.validity.valid&&(""!==b.value||k.test(b.type))||b.value!==b.getAttribute("placeholder")&&
b.validity.valid?(m(b,[f.invalidClass,f.requiredClass]),p(b,f.validClass)):c.test(l)?b.validity.valueMissing&&m(b,[f.requiredClass,f.invalidClass,f.validClass]):b.validity.valueMissing?(m(b,[f.invalidClass,f.validClass]),p(b,f.requiredClass)):b.validity.valid||(m(b,[f.validClass,f.requiredClass]),p(b,f.invalidClass)),"input"===l&&F(b.form,"keyup",g,!0))};u=function(a){var b,c,d,k=!1;if("form"===a.nodeName.toLowerCase()){a=a.elements;for(var f=0,e=a.length;f<e;f++)b=a[f],c=!!b.attributes.required,
d=!!b.attributes.pattern,"fieldset"!==b.nodeName.toLowerCase()&&(c||d&&c)&&(g(b),b.validity.valid||k||(z&&b.focus(),k=!0));return!k}g(a);return a.validity.valid};D=function(a){this.validationMessage=a};C=function(a){a=y(a);a.attributes.formnovalidate&&"submit"===a.type&&(A=!0)};v=function(){return h(n,"validity")&&h(n,"checkValidity")};E=function(a,b){if("email"===b)return!q.test(a.value);if("url"===b)return!I.test(a.value);if(b){var c=a.getAttribute("placeholder"),d=a.value;B=RegExp("^(?:"+b+")$");
return d===c?!1:""===d?!1:!B.test(a.value)}return!1};w=function(a){var b=a.getAttribute("placeholder"),c=/^(focus|focusin|submit)$/i,d=/^(input|textarea)$/i,k=/^password$/i;"placeholder"in n||!d.test(a.nodeName)||k.test(a.type)||(""!==a.value||c.test(l)?a.value===b&&c.test(l)&&(a.value="",m(a,f.placeholderClass)):(a.value=b,e(a.form,"submit",function(){l="submit";w(a)},!0),p(a,f.placeholderClass)))};r=function(a,b){var c=parseInt(a.getAttribute("min"),10)||0,d=parseInt(a.getAttribute("max"),10)||
!1,f=parseInt(a.getAttribute("step"),10)||1,e=parseInt(a.value,10),f=(e-c)%f;if(x(a)||isNaN(e))return"number"===a.getAttribute("type")?!0:!1;if("step"===b)return a.getAttribute("step")?0!==f:!1;if("min"===b)return a.getAttribute("min")?e<c:!1;if("max"===b)return a.getAttribute("max")?e>d:!1};x=function(a){var b=a.getAttribute("placeholder"),c=/^(checkbox|radio)$/i;return!(!a.attributes.required||""!==a.value&&a.value!==b&&(!c.test(a.type)||H(a)))};e=function(a,b,c,d){h(window,"addEventListener")?
a.addEventListener(b,c,d):h(window,"attachEvent")&&"undefined"!==typeof window.event&&("blur"===b?b="focusout":"focus"===b&&(b="focusin"),a.attachEvent("on"+b,c))};F=function(a,b,c,d){h(window,"removeEventListener")?a.removeEventListener(b,c,d):h(window,"detachEvent")&&"undefined"!==typeof window.event&&a.detachEvent("on"+b,c)};G=function(a){a=a||window.event;a.stopPropagation&&a.preventDefault?(a.stopPropagation(),a.preventDefault()):(a.cancelBubble=!0,a.returnValue=!1)};y=function(a){a=a||window.event;
return a.target||a.srcElement};p=function(a,b){a=f.classElement(a);var c;a.className?(c=RegExp("(^|\\s)"+b+"(\\s|$)"),c.test(a.className)||(a.className+=" "+b)):a.className=b};m=function(a,b){a=f.classElement(a);var c,d,e="object"===typeof b?b.length:1,g=e;if(a.className)if(a.className===b)a.className="";else for(;e--;)c=RegExp("(^|\\s)"+(1<g?b[e]:b)+"(\\s|$)"),(d=a.className.match(c))&&3===d.length&&(a.className=a.className.replace(c,d[1]&&d[2]?" ":""))};h=function(a,b){var c=typeof a[b];return!!(/^function|object$/i.test(c)&&
a[b]||"unknown"===c)};H=function(a){a=document.getElementsByName(a.name);for(var b=0;b<a.length;b++)if(a[b].checked)return!0;return!1};return{setup:function(a,b){var c=!a.nodeType||!1,d={validClass:"valid",invalidClass:"error",requiredClass:"required",placeholderClass:"placeholder",classElement:function(a){return a}};if("object"===typeof b)for(var e in d)"undefined"===typeof b[e]&&(b[e]=d[e]);f=b||d;if(c)for(c=0,d=a.length;c<d;c++)s(a[c]);else s(a)}}});
