var $TLDR=typeof(jQuery.noConflict)=="function"?jQuery.noConflict(true):jQuery;(function(a){a.fn.extend({scrollTo:function(b){var e=a(this).offset();if(e){var d=e.top;var c=a(window).height()/3;if(c>400){c=200}a("html,body").animate({scrollTop:d-c},1000)}return this}})})($TLDR);(function(b){b.fn.beResetCSS=function(){a(this);return this};function a(e){var d=b(e)[0].tagName.toLowerCase();var h=new Array();var g=new Array();h[0]=["html","body","div","span","applet","object","iframe","h1","h2","h3","h4","h5","h6","p","blockquote","pre","a","abbr","acronym","address","big","cite","code","del","dfn","em","font","img","ins","kbd","q","s","samp","small","strike","strong","sub","sup","tt","var","b","u","i","center","dl","dt","dd","ol","ul","li","fieldset","form","label","legend","table","caption","tbody","tfoot","thead","tr","th","td","input"];var f={margin:"0",padding:"0",border:"0",outline:"0",fontSize:"100%",verticalAlign:"baseline",background:"transparent"};g[0]=f;h[1]=["body"];f={lineHeight:"1"};g[1]=f;h[2]=["ol","ul"];f={listStyle:"none"};g[2]=f;h[3]=["blockquote","q"];f={quotes:"none"};g[3]=f;h[4]=["ins"];f={textDecoration:"none"};g[4]=f;h[5]=["del"];f={textDecoration:"line-through"};g[5]=f;h[6]=["table"];f={borderCollapse:"collapse",borderSpacing:"0"};g[6]=f;b(h).each(function(j){b(this).each(function(i){if(d==this){c(e,g[j])}})})}function c(d,e){for(key in e){b(d).css(key,e[key])}}})($TLDR);var TLDR=(function(t){var n=50;var u=/^[\w_\.\-]+$/;var b=20;var u=/^[a-zA-Z_][a-zA-Z_\.\-]*[\d]*$/;var I=/[AEIOUY]{4,}/i;var c=/[BCDFGHJKLMNPQRSTVWXY]{4,}/i;if(typeof(D)!="function"){var D=function(K,M){var L=[];var N=document.evaluate(M,document,null,XPathResult.ANY_TYPE,null);var O=N.iterateNext();while(O){L.push(O);O=N.iterateNext()}return L}}var q=function(N){if(N.indexOf("'")==-1){return"'"+N+"'"}if(N.indexOf('"')==-1){return'"'+N+'"'}var K="concat(";var O=N.split('"');for(var M=0;M<O.length;M++){var L=(M>0);if(O[M]!=""){if(M>0){K+=", "}K+='"'+O[M]+'"';L=true}if(M<O.length-1){if(L){K+=", "}K+="'\"'"}}K+=")";return K};var m=function(L){var K=0;var M=L.previousSibling;while(M!=null){if(M.nodeType==1){if(M.tagName==L.tagName){++K}}M=M.previousSibling}return K};var A=function(L){var K=0;var M=L.nextSibling;while(M!=null){if(M.nodeType==1){if(M.tagName==L.tagName){++K}}M=M.nextSibling}return K};var j=function(K,L){while(L!=null){if(L==K){return true}L=L.parentNode}return false};var H=function(K,M,Q,N,S){var P=D(N.ownerDocument,"/descendant::"+K+M);var L=0;for(var O=0;O<P.length;++O){var R=P[O];if(j(R,N)){L=O+1;break}}if(L>0){S.push("/descendant::"+K+M+"["+L+"]"+Q);if(L==P.snapshotLength){S.push("/descendant::"+K+M+"[last()]"+Q)}}};var i=function(K){return K.length>3&&!K.match(c)&&!K.match(I)&&K.match(u)};function o(K){this.attr=K}o.prototype.filterableByIndex=true;o.prototype.generate=function(K){var L=K.getAttribute(this.attr);if(L!=null&&this.isValidValue(L)){return"[@"+this.attr+"="+q(L)+"]"}return null};o.prototype.isValidValue=function(K){return K.length>0&&K.length<n};l.prototype=new o();l.prototype.constructor=l;function l(){this.attr="class"}l.prototype.isValidValue=function(M){var K=M.split(/[\s\_\-]+/);if(K.length!=1){}if(M.length<4){return false}if(K.length>1){var N=0;for(var L=0;L<K.length;++L){if(i(K[L])){++N}}if(N/K.length<0.5){return false}}else{if(!i(M)){return false}}return o.prototype.isValidValue.call(this,M)};r.prototype=new o();r.prototype.constructor=r;function r(){this.attr="id"}r.prototype.isValidValue=function(K){if(!i(K)){return false}return o.prototype.isValidValue.call(this,K)};E.prototype=new o();E.prototype.constructor=E;function E(K){this.attr=K}E.prototype.isValidValue=function(K){if(!o.prototype.isValidValue.call(this,K)){return false}return K.toLowerCase().indexOf("javascript:")!=0&&K!="#"};function B(K){this.forceChildIndex=(K===null)?false:K}B.prototype.generate=function(K){var L=m(K);if(!this.forceChildIndex){var M=A(K);if(L+M==0){return null}}return"["+(L+1)+"]"};function a(){}a.prototype.generate=function(K){if(m(K)==0){return null}var L=K.nextSibling;while(L!=null){if(L.nodeType==1){if(L.tagName==K.tagName){return null}}L=L.nextSibling}return"[last()]"};function h(){}h.prototype.filterableByIndex=true;h.prototype.generate=function(M){var L=M.childNodes;var N=L.length;for(var K=0;K<N;++K){if(L[K]&&L[K].nodeType!=3){return null}}var O=M.textContent;if(O!=null&&O.trim().length>0){if(O.length<n){return"[text()="+q(O)+"]"}}return null};function k(){}k.prototype.generate=function(K){var L=K.previousSibling;while(L!=null){if(L.nodeType==1){if(L.tagName==K.tagName){return null}}L=L.previousSibling}L=K.nextSibling;while(L!=null){if(L.nodeType==1){if(L.tagName==K.tagName){return null}}L=L.nextSibling}return""};function e(){this.maxPaths=b;this.selectorHints=[new r(),new o("name"),new l(),new E("action"),new E("href"),new B(),new a(),new h(),new k()]}e.prototype.generateAbsolute=function(M,O){var L=new B(O);var N="";while(M!=null){if(M.nodeType==1){var K=L.generate(M);if(K==null){K=""}N="/"+M.tagName.toLowerCase()+K+N
}M=M.parentNode}return N};e.prototype.generate=function(L){var R=[];var ab=[""];var W=L;while(W!=null&&ab.length>0){if(W.nodeType==1){var O=W;var Q=new Array();var K=0;while(O!=null){if(O.nodeType==1){var N=O.tagName.toLowerCase();if(N=="body"){break}for(var V=0;V<this.selectorHints.length;++V){if(R.length>=this.maxPaths){break}var S=this.selectorHints[V];var Z=S.generate(O);if(Z!=null){for(var P=0;P<ab.length;++P){if(R.length>=this.maxPaths){break}var M=ab[P];if(K>0&&M.length==0){continue}if(!S.filterableByIndex&&K>0&&M.length>0&&O.ownerDocument.getElementsByTagName(N).length>10){continue}var T=N+Z+(K>0?"/":"")+M;var X="//"+T;var U=D(L.ownerDocument,X,K>0);if(U.length==1&&U[0]==L){R.push(X)}else{if(K==0){var Y=false;for(var aa=0;aa<U.length;++aa){if(L==U[aa]){Y=true;break}}if(Y){if(S.filterableByIndex){H(N,Z,M,L,R)}else{Q.push("/"+T)}}}}}}}}O=O.parentNode;++K}ab=Q}W=W.parentNode}if(R.length==0){R.push(this.generateAbsolute(L))}return R};var d=(function(){function N(R){var Q=[];for(var P=0,O=R.length,S;P<O;++P){S=R.charCodeAt(P);if(S<128){Q.push(S)}else{if(S<2048){Q.push((S>>6)|192,(S&63)|128)}else{Q.push((S>>12)|224,((S>>6)&63)|128,(S&63)|128)}}}return Q}var L=null;function K(){var Q=[];for(var P=0,O,R;P<256;++P){R=P;O=8;while(O--){if((R&1)==1){R=(R>>>1)^3988292384}else{R>>>=1}}Q[P]=R>>>0}return Q}function M(){if(!L){L=K()}return L}return function(T){var S=N(T),R=-1,P=M();for(var Q=0,O=S.length,U;Q<O;++Q){U=(R^S[Q])&255;R=(R>>>8)^P[U]}return(R^-1)>>>0}})();function F(K){return K.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(N,M){M=M||[];var Q=N.nodeType,L=N.childNodes,P=L.length;var S=[Q,N.nodeName,P].join(":");var K="",O="";switch(Q){case 3:K=F(N.nodeValue);break;case 8:K="<!--"+F(N.nodeValue)+"-->";break;default:K="<"+S+">";O="</>";break}if(K){M.push(K)}for(var R=0;R<P;++R){f(L[R],M)}if(O){M.push(O)}return M}function y(L,O,K){if(L){if(L.nodeType==3){var N=L.data.indexOf(O);if(N!==-1){if(K(L)){return L}}}else{var Q=L.firstChild,M;while(Q){M=Q.nextSibling;var P=y(Q,O,K);if(P){return P}Q=M}}}return null}function G(K){var L=f(K).join("");return d(L).toString(16)}function v(M,O){var L=M;var Q=-1;if(M.nodeType!=1){Q=rangy.dom.getNodeIndex(M);M=M.parentNode}var K=new e().generate(M);var P={xpaths:K,offset:O,checksum:G(M),nodeIndex:Q};if(L.nodeType==3){var N=L.data.trim();if(N.length>20){N=N.substring(0,20).trim()}if(N.length>0){P.text=N}}return P}function s(M,Q,R){var K=null;var L=M.offset;for(var P=0;P<Q.length&&!K;++P){for(var N=0;N<M.xpaths.length&&!K;++N){var T=D(Q[P],M.xpaths[N],true);if(T.length==1){try{if(G(T[0])==M.checksum){if(M.nodeIndex!=-1){if(M.nodeIndex<T[0].childNodes.length){K=T[0].childNodes[M.nodeIndex]}}else{K=T[0]}}}catch(O){}}}}if(!K&&M.text){var U=null;for(var P=0;P<Q.length&&!K;++P){var S=Q[P];if(S&&S.documentElement){K=y(S.documentElement,M.text,function(V){return(G(V.parentNode)==M.checksum)});if(!U&&!K){U=y(S.documentElement,M.text,function(V){if(V.data.trim().indexOf(M.text)===0){L=R?M.text.length:0;return true}return false})}}}if(!K){K=U}}return K==null?null:new rangy.dom.DomPosition(K,L)}function x(L){var M=rangy.DomRange.getRangeDocument(L);var N=v(L.startContainer,L.startOffset,M);var K=v(L.endContainer,L.endOffset,M);return{start:N,end:K}}function p(N,M){var P=s(N.start,M);var K=s(N.end,P?[P.node.ownerDocument]:M,true);if(!P&&!K){return null}if(P&&K){var L=rangy.createRange(P.node.ownerDocument);L.setStart(P.node,P.offset);L.setEnd(K.node,K.offset);return L}var O=P||K;var L=rangy.createRange(O.node.ownerDocument);L.setStart(O.node,P?O.offset:0);L.setEnd(O.node,O.node.length);return L}function w(O){O=O||rangy.getSelection();var L=O.getAllRanges(),M=[];if(L.length==0){O=rangy.getSelection();L=O.getAllRanges()}for(var N=0,K=L.length;N<K;++N){M[N]=x(L[N])}return M}function J(L,P){var R,Q;for(var N=0,K=L.length;N<K;++N){range=L[N];range.splitBoundaries();Q=range.getNodes([3]);for(var M=0;M<Q.length;++M){R=Q[M];var O=R.ownerDocument.createElement("span");O.className=P;R.parentNode.insertBefore(O,R);O.appendChild(R)}}}function C(M){var S=[document];var R=window.frames;for(var N=0;N<R.length;N++){try{var L=R[N].document;S.push(L)}catch(Q){}}var K=[];for(var N=0,P=M.length;N<P;++N){var O=p(M[N],S);if(O!=null){K.push(O)}}return K}function z(K){var L=t("<div id='tldr-message'><span>You are viewing content directed through <a href='//tldrify.com'>tldrify.com</a>. View the <a href='#'>original</a> page.</span></div>").beResetCSS().hide().appendTo("body");L.find("a[href=#]").attr("href",K);t("<a href='#' id='tldr-close-notify'>X</a>").appendTo(L).click(function(M){M.preventDefault();t("#tldr-message").fadeOut("slow")});L.find("*").each(function(){t(this).beResetCSS()});L.find("a").css({color:"#fff","text-decoration":"underline"});L.css({"font-family":'"Lucida Grande", "Arial", "Helvetica", "Verdana", "sans-serif"',position:"fixed",top:"0px",left:"0px",width:"100%","z-index":"2147483640","text-align":"center","font-weight":"bold","font-size":"12px","line-height":"1em",color:"#fff",padding:"7px 0px 7px 0px","background-color":"#cf7721"});
L.children("span").css({color:"#fff","text-align":"center",width:"95%","float":"left"});t("#tldr-close-notify").css({"white-space":"nowrap","float":"right","margin-right":"10px",color:"#fff","text-decoration":"none",border:"2px #fff solid","padding-left":"3px","padding-right":"3px"});L.fadeIn("slow")}function g(){var K="";if(window.getSelection){K=window.getSelection().toString()}else{if(document.selection&&document.selection.type!="Control"){K=document.selection.createRange().text}}return K}return{save:function(){if(g().trim().length>0){rangy.init();var K=w();var L=JSON.stringify(K);t(function(){t.getScript("//tldrify.com/api/create.js?url="+encodeURIComponent(document.location.href)+"&data="+encodeURIComponent(L))})}else{if(typeof(TLDR_spin)!=="undefined"){TLDR_spin.hide()}}},restore:function(Q,M,P,O,L,R){if(!L&&window.location.hash!="#noheader"){z(Q)}try{rangy.init();if(typeof(O)=="string"){O=JSON.parse(O)}var K=C(O);var N="tldr-span"+new Date().getTime();J(K,N)}finally{if(typeof(TLDR_spin)!=="undefined"){TLDR_spin.hide()}}t(function(){t("."+N+":first").scrollTo();document.getSelection().removeAllRanges();var U=t("."+N);var X=U.length==0;if(!X){var W=U.text();W=t.trim(W).replace(/\s+/," ");if(W.length>100){W=W.substring(0,100).replace(/[\S]*$/,"...")}U.css({"background-color":"yellow",color:"#333",cursor:"pointer"});U.each(function(){if(t(this).parent("a").length>0){t(this).css({"text-decoration":"underline"})}});function T(Z,aa){Z-=92.5;aa+=10;if(t("#tldr-iframe").length==0){t("body").append(t("<iframe>").attr("id","tldr-iframe").attr("src","//tldrify.com/sharebox?v20200106-2109&url="+encodeURIComponent(M)+"&title="+encodeURIComponent(W)).attr("width",210).attr("height",115).attr("frameborder",0).css({position:"absolute",overflow:"hidden","z-index":2147483647,top:aa+"px",left:Z+"px"}))}else{t("#tldr-iframe").css({display:"",top:aa+"px",left:Z+"px"})}}function V(){t("#tldr-iframe").css({display:"none"})}U.mouseenter(function(aa){var Z=aa.clientX+t(window).scrollLeft();var ab=aa.clientY+t(window).scrollTop();T(Z,ab)});t("body").on("click",V);t(document).bind("keydown",function(Z){if(Z.which==27){V()}});if(L){var S=U.offset().left+U.width()/2;var Y=U.offset().top+U.height();T(S,Y)}else{T(-1000,-1000)}}if(!L&&(!X||R)){t.ajax({type:"POST",url:"//tldrify.com/api/citation/"+P+"/view",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({xpath_failure:X})})}})}}})($TLDR);